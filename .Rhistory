legend.position = "none")
p
library(ggtext)
install.packages("ggtext")
library(ggtext)
# Define a custom labeller function
label_labeller <- function(variable, value) {
value[value == "without_cluster_constant_feature_values"] <- "without cluster-constant feature values"
value[value == "x1_values_constant_within_clusters"] <- "x<sub>1</sub> values constant within clusters"
value[value == "x2_values_constant_within_clusters"] <- "x<sub>2</sub> values constant within clusters"
return(value)
}
# Now plot again
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_labeller, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none",
strip.text = element_markdown()) # this line is important for interpreting HTML code
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
expression(paste("x"[1], " values constant within clusters"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
# Now plot again
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
# Now plot again
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c(expression("without cluster-constant feature values"),
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c(expression("without cluster-constant feature values"),
expression(paste("x"[1], " values constant within clusters")),
expression(paste("x"[2], " values constant within clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
# install.packages("latex2exp")  # Uncomment this line if the package is not installed
library(latex2exp)
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# install.packages("latex2exp")  # Uncomment this line if the package is not installed
library(latex2exp)
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
TeX("$x_1$ values constant within clusters"),
TeX("$x_2$ values constant within clusters")))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c(expression(without~cluster-constant~feature~values),
expression(x~[1]~values~constant within~clusters),
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c(expression("without cluster-constant feature values"),
expression(paste("values constant within ", x[1], " clusters")),
expression(paste("values constant within ", x[2], " clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = labeller(type = label_parsed), ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c(expression("random forests"), expression("linear models")))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c(expression("without cluster-constant feature values"),
expression(paste("values constant within ", x[1], " clusters")),
expression(paste("values constant within ", x[2], " clusters"))))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = labeller(type = label_parsed), ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
?as_labeller
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
"values constant within x[1] clusters",
"values constant within x[2] clusters"))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = labeller(type = label_parsed), ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
data <- expand.grid(iter=1:100, method=factor(1:3), factor1=factor(1:2), factor2=factor(1:2))
head(data)
head(data$iter)
head(data$method)
data$y <- data.frame(y=rnorm(2*2*3*100))
data <- expand.grid(iter=1:100, method=factor(1:3), factor1=factor(1:2), factor2=factor(1:2))
data$iter <- NULL
data$y <- data.frame(y=rnorm(2*2*3*100))
data <- expand.grid(iter=1:100, method=factor(1:3), factor1=factor(1:2), factor2=factor(1:2))
data$iter <- NULL
data$y <- rnorm(2*2*3*100)
head(data)
data <- expand.grid(iter=1:100, method=factor(1:3), factor1=factor(1:2), factor2=factor(1:3))
data$iter <- NULL
data$y <- rnorm(3*2*3*100)
p <- ggplot(data=data, aes(x=method, y=y)) + facet_wrap(~ factor1 + factor2, nrow=2) + geom_boxplot()
p
# Replace factor levels
res$predmethod <- factor(res$predmethod, levels = c("rf", "lm"),
labels = c("random forests", "linear models"))
res$fixed <- factor(res$fixed, levels = c("none", "first", "second"),
labels = c("without cluster-constant feature values",
TeX("$x_1$ values constant within clusters"),
TeX("$x_2$ values constant within clusters")))
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
p <- ggplot(data=data, aes(x=method, y=y)) + facet_wrap(~ factor1 + factor2, nrow=2) + geom_boxplot() + theme_bw()
p
head(data)
fix(data)
# Modify factor levels
levels(data$factor2) <- c("'bla bla'", "paste('variable ', x[1])", "paste('variable ', x[2])")
# Now plot the data
ggplot(data=data, aes(x=method, y=y)) +
facet_wrap(~ factor1 + factor2, labeller = label_parsed, nrow=2) +
geom_boxplot()
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
levels(res$predmethod)
levels(res$predmethod) <- c("random forests", "linear models")
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
levels(res$predmethod) <- c("random forests", "linear models")
levels(res$fixed) <- c("without cluster-constant feature values", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
levels(res$predmethod) <- c("random forests", "linear models")
levels(res$fixed) <- c("without cluster-constant feature values", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = labeller(type = label_parsed), ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
levels(res$predmethod) <- c("random forests", "linear models")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = labeller(type = label_parsed), ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
levels(res$predmethod) <- c("'random forests'", "'linear models'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p1 <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p1
x11()
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
p2 <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p2
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste('values constant within ', x[1], ' clusters')",
"paste('values constant within ', x[2], ' clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=9, height=9)
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 10),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 15),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 13),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 12),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 11),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste(x[1], 'values constant within clusters')",
"paste(x[2], 'values constant within clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 11),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==1,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste(x[1], ' values constant within clusters')",
"paste(x[2], ' values constant within clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 11),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
table(results$var_eps)
res <- results[results$var_intercept==1 & results$var_slope==1 & results$var_eps==0.25,]
res$N_n_i <- paste0("N = ", res$N, ", n_m = ", res$n_i)
res$N_n_i <- factor(res$N_n_i, levels=c("N = 10, n_m = 5", "N = 10, n_m = 25", "N = 50, n_m = 5", "N = 50, n_m = 25"))
res$predmethod <- factor(res$predmethod, levels = rev(levels(res$predmethod)))
levels(res$predmethod) <- c("'linear models'", "'random forests'")
levels(res$fixed) <- c("'without cluster-constant feature values'", "paste(x[1], ' values constant within clusters')",
"paste(x[2], ' values constant within clusters')")
p <- ggplot(data=res, aes(x=N_n_i, y=CV_err, fill=type)) + theme_bw() +
geom_boxplot() +
facet_wrap(~ predmethod + fixed, labeller = label_parsed, ncol = 3, scales="free_y") +
ylab("Cross-validated MSE") +
theme(axis.title.x=element_blank(),
axis.text.x = element_text(angle=45, hjust = 1, color="black", size=10),
strip.text.x = element_text(size = 11),
legend.position = "none")
p
ggsave("./Simulations/ClustData/Results/figures/clustersim.pdf", width=10, height=7)
#
